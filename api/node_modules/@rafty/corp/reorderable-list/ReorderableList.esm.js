"use client";
import{_ as e}from"@swc/helpers/_/_extends";import{_ as r}from"@swc/helpers/_/_object_without_properties_loose";import{jsx as i,jsxs as n}from"react/jsx-runtime";import{getValue as a,List as d,classNames as o,ListItem as s}from"@rafty/ui";import{cva as t}from"class-variance-authority";import{forwardRef as l,useState as c}from"react";import{DragDropContext as p,Droppable as m,Draggable as g}from"react-beautiful-dnd";const f=t("w-full select-none",{variants:{hidden:{true:"hidden",false:"block"}}}),u=t("outline-none focus-visible:ring-2 ring-primary-300 dark:ring-primary-100",{variants:{size:{sm:"px-1.5 text-sm rounded-sm",md:"px-2 rounded",lg:"px-2.5 text-lg rounded-md"},dragging:{true:"bg-white dark:bg-secondary-950",false:""}}}),h=l((function(t,l){var{data:h,onOrderChange:b,size:x="md",className:_,isHidden:v=!1}=t,w=r(t,["data","onOrderChange","size","className","isHidden"]);const[y,z]=c(h),N=a(v);return i(p,e({},w,{onDragEnd:e=>{if(!e.destination)return;const r=y,[i]=r.splice(e.source.index,1);r.splice(e.destination.index,0,i),z(r),null==b||b(r)},ref:l,children:i(m,{droppableId:"droppable",direction:"vertical",children:({droppableProps:r,innerRef:a,placeholder:t})=>n(d,e({},r,{className:o(f({hidden:N}),_),ref:a,children:[y.map(((r,n)=>i(g,{draggableId:String(n),index:n,children:({dragHandleProps:n,draggableProps:a,innerRef:d},{isDragging:o})=>i(s,e({},a,n,{className:u({size:x,dragging:o}),ref:d,children:r}))},n))),t]}))})}))}));export{h as ReorderableList};

"use client";
import{_ as e}from"@swc/helpers/_/_object_without_properties_loose";import{jsxs as t,jsx as o,Fragment as n}from"react/jsx-runtime";import{ExclamationCircleIcon as r}from"@heroicons/react/24/outline";import{classNames as a,Table as s}from"@rafty/ui";import{useReactTable as l,getCoreRowModel as i,getSortedRowModel as d}from"@tanstack/react-table";import{TableContent as m}from"./TableContent.esm.js";import{TableHeader as c}from"./TableHeader.esm.js";import{useSync as g}from"./useSync.esm.js";function u(n){var{columns:r,data:u,isLoading:f=!1,isError:S=!1,enableRowSelection:p=!1,enableColumnResizing:w=!1,enableColumnsSorting:C=!1,size:x="md",notFoundMessage:z="No data found",errorMessage:R="Error fetching data",onRowsSelectedChange:y,rowsSelected:N={},className:k}=n,M=e(n,["columns","data","isLoading","isError","enableRowSelection","enableColumnResizing","enableColumnsSorting","size","notFoundMessage","errorMessage","onRowsSelectedChange","rowsSelected","className"]);const[j,v]=g([],M.onSortingChange),[_,E]=g({},M.onColumnSizingChange),L=l({data:null!=u?u:[],columns:r,enableRowSelection:p,enableColumnResizing:w,enableSorting:C,columnResizeMode:"onChange",getCoreRowModel:i(),getSortedRowModel:d(),onRowSelectionChange:y,state:{sorting:j,columnSizing:_,rowSelection:N},onSortingChange:v,onColumnSizingChange:E}),F=r.length,T=!f&&0===(null==u?void 0:u.length);return t("div",{className:a("w-full",k),children:[t(s,{size:x,className:a("overflow-y-auto [&>table]:table-fixed","[&>table>thead>tr>th]:bg-secondary-100 dark:[&>table>thead>tr>th]:bg-secondary-800 [&>table>thead>tr>th]:sticky [&>table>thead>tr>th]:top-0 [&>table>thead>tr>th]:z-10",(T||S)&&"rounded-b-none"),children:[o(c,{table:L,enableRowSelection:p}),o(m,{table:L,colSpan:F,isLoading:f})]}),T&&o(h,{message:z}),S&&o(b,{message:R})]})}function h(e){let t;return t="string"==typeof e.message?o("p",{className:"text-secondary-600 dark:text-secondary-400 text-sm font-medium lg:text-base",children:e.message}):e.message,o(f,{children:t})}function b(e){let a;return a="string"==typeof e.message?t(n,{children:[o(r,{className:"mr-1 size-4 stroke-2 text-red-500 lg:mr-1.5 lg:size-5 dark:text-red-300"}),o("p",{className:"text-sm font-medium text-red-500 lg:text-base dark:text-red-300",children:e.message})]}):e.message,o(f,{children:a})}function f(e){return o("div",{className:a("dark:border-secondary-700 flex h-[440px] w-full select-none items-center justify-center rounded-b-lg border border-t-0",e.className),children:e.children})}export{u as DataTable};

"use client";
import{_ as r}from"@swc/helpers/_/_extends";import{_ as a}from"@swc/helpers/_/_object_without_properties_loose";import{jsx as e,jsxs as i}from"react/jsx-runtime";import{SignaturePad as s}from"@ark-ui/react";import{ArrowPathIcon as l}from"@heroicons/react/24/outline";import{useFieldControlContext as o,getValue as n,classNames as d,Button as t}from"@rafty/ui";import{cva as c}from"class-variance-authority";import{forwardRef as u}from"react";const m=c("group/signature w-full h-60 data-[disabled]:cursor-not-allowed data-[disabled]:opacity-70",{variants:{readonly:{true:"cursor-default",false:"cursor-pointer"}}}),f=u((function(c,u){var f,{name:g,disabled:b,readOnly:p,isDisabled:y,isLoading:h,isInvalid:v,isReadOnly:k,className:w}=c,N=a(c,["name","disabled","readOnly","isDisabled","isLoading","isInvalid","isReadOnly","className"]);const _=null!=(f=o())?f:{isDisabled:!1,isLoading:!1,isReadOnly:!1,isRequired:!1,isInvalid:!1},O=null!=g?g:_.name;var R,D;const C=(null!=(R=null!=b?b:n(y))?R:_.isDisabled)||(null!=(D=n(h))?D:_.isLoading);var I;const L=null!=(I=n(v))?I:_.isInvalid;var x;const j=null!=(x=null!=p?p:n(k))?x:_.isReadOnly,z=r({},N,{name:O,disabled:C,readOnly:j,className:d(m({readonly:j}),w),"data-invalid":L});return e(s.Root,r({},z,{ref:u,children:i(s.Control,{className:"border-secondary-300 dark:bg-secondary-900 dark:border-secondary-700 ring-primary-300 dark:ring-primary-100 dark:ring-offset-secondary-950 h-full w-full rounded-lg border bg-white outline-none ring-offset-2 ring-offset-white focus-visible:ring-2 group-data-[invalid=false]/signature:ring-red-100 group-data-[invalid=true]/signature:ring-red-300",children:[e(s.Segment,{className:"fill-black dark:fill-white"}),e(s.ClearTrigger,{title:"Clear",className:"absolute right-3 top-3",asChild:!0,children:e(t,{size:"icon",variant:"ghost",isDisabled:j,children:e(l,{className:"size-4 stroke-2"})})}),e(s.Guide,{className:"border-secondary-300 dark:border-secondary-700 absolute bottom-4 left-4 right-4 border-t-2 border-dotted"})]})}))}));export{f as Signature};

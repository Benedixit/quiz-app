import{_ as e}from"@swc/helpers/_/_extends";import{_ as o}from"@swc/helpers/_/_object_without_properties_loose";import{jsxs as r,jsx as n}from"react/jsx-runtime";import{ChevronUpIcon as l,ChevronDownIcon as t}from"@heroicons/react/24/outline";import{forwardRef as s}from"react";import{useFieldControlContext as i}from"../field-control/context.esm.js";import{getValue as a}from"../utils/get-value.esm.js";import{InputGroup as c}from"../input-group/InputGroup.esm.js";import{LeftAddon as u}from"../input-group/LeftAddon.esm.js";import{InputField as m}from"../input-field/InputField.esm.js";import{Suffix as p}from"../input-group/Suffix.esm.js";const d="currency-input",y={ArrowUp:1,Enter:0,ArrowDown:-1},b={USD:{symbol:"$",locales:"en-US",options:{currency:"USD",minimumFractionDigits:2}},INR:{symbol:"₹",locales:"en-IN",options:{currency:"INR",minimumFractionDigits:2}},EUR:{symbol:"€",locales:"en-IE",options:{currency:"EUR",minimumFractionDigits:2}},GBP:{symbol:"₤",locales:"en-GB",options:{currency:"GBP",minimumFractionDigits:2}}},f=s((function(s,f){var g,{size:h="md",currencyCode:v="USD",onChange:x,onKeyDown:N,onBlur:D,className:w}=s,k=o(s,["size","currencyCode","onChange","onKeyDown","onBlur","className"]);const C=null!=(g=i())?g:{isDisabled:!1,isLoading:!1,isReadOnly:!1,isRequired:!1,isInvalid:!1},I=v.toUpperCase();var U;const j=null!=(U=b[I])?U:e({},b.USD,{symbol:I.slice(0,3)}),R=new Intl.NumberFormat(j.locales,j.options).format;var _,B,F;const S=(null!=(B=null!=(_=k.disabled)?_:a(k.isDisabled))?B:C.isDisabled)||(null!=(F=a(k.isLoading))?F:C.isLoading);var z,E;const G=null!=(E=null!=(z=k.readOnly)?z:a(k.isReadOnly))?E:C.isReadOnly;return r(c,{size:h,className:w,children:[n(u,{children:j.symbol||"¤"}),n(m,e({},k,{id:d,type:"text",inputMode:"numeric",autoComplete:"off",autoCorrect:"off",spellCheck:"false",onChange:e=>{const o=e.currentTarget.value.replace(/[^.0-9]/g,"");null==x||x(o)},onKeyDown:e=>{const o=e.currentTarget.value,r=Number(o.replace(/,/g,""));if(e.key in y){e.preventDefault(),e.stopPropagation();const o=y[e.key],n=R(r+o);null==x||x(n)}else null==N||N(e)},onBlur:e=>{const o=e.currentTarget.value,r=Number(o.replace(/,/g,"")),n=R(r);null==x||x(n),null==D||D(e)},ref:f})),n(p,{className:"pointer-events-auto w-max",children:r("div",{className:"flex flex-col",children:[n("button",{type:"button",tabIndex:-1,"aria-label":"increase",className:"text-secondary-500 px-2 py-0.5 hover:text-black dark:hover:text-white","aria-controls":d,onClick:()=>{var e;const o=Number((null!=(e=k.value)?e:"0").replace(/,/g,"")),r=R(o+1);null==x||x(r)},disabled:S||G,children:n(l,{className:"size-2.5 stroke-[3]"})}),n("button",{type:"button",tabIndex:-1,"aria-label":"decrease",className:"text-secondary-500 px-2 py-0.5 hover:text-black dark:hover:text-white","aria-controls":d,onClick:()=>{var e;const o=Number((null!=(e=k.value)?e:"0").replace(/,/g,"")),r=R(o-1);null==x||x(r)},disabled:S||G,children:n(t,{className:"size-2.5 stroke-[3]"})})]})})]})}));export{f as CurrencyInput};

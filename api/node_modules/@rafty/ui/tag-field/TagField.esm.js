"use client";
import{_ as e}from"@swc/helpers/_/_extends";import{_ as r}from"@swc/helpers/_/_object_without_properties_loose";import{jsxs as a,jsx as d,Fragment as i}from"react/jsx-runtime";import{TagsInput as s,useTagsInputContext as t,useTagsInputItemContext as l}from"@ark-ui/react";import{XMarkIcon as o}from"@heroicons/react/24/outline";import{cva as n}from"class-variance-authority";import{forwardRef as c}from"react";import{useFieldControlContext as m}from"../field-control/context.esm.js";import{getValue as p}from"../utils/get-value.esm.js";import{classNames as u}from"../utils/class-names.esm.js";import{Button as g}from"../button/Button.esm2.js";const h=c((function(i,t){var l,{name:o,disabled:n,readOnly:c,placeholder:g,size:h="md",isLoading:f,isDisabled:y,isReadOnly:b,isInvalid:z,className:x}=i,k=r(i,["name","disabled","readOnly","placeholder","size","isLoading","isDisabled","isReadOnly","isInvalid","className"]);const w=null!=(l=m())?l:{isDisabled:!1,isLoading:!1,isReadOnly:!1,isRequired:!1,isInvalid:!1},I=null!=o?o:w.name;var N,O;const _=(null!=(N=null!=n?n:p(y))?N:w.isDisabled)||(null!=(O=p(f))?O:w.isLoading);var j;const R=null!=(j=p(z))?j:w.isInvalid;var D;const C=null!=(D=null!=c?c:p(b))?D:w.isReadOnly,L=e({},k,{name:I,disabled:_,readOnly:C,className:u("relative flex w-full items-center",x)});return a(s.Root,e({},L,{ref:t,children:[d(s.Context,{children:()=>d(v,{size:h,placeholder:g,invalid:R})}),d(s.HiddenInput,{})]}))})),f=n(u("group/tag-control flex w-full flex-wrap items-center border transition-all","outline-none data-[focus]:ring-2 ring-offset-2 ring-offset-white dark:ring-offset-secondary-950","data-[disabled]:cursor-not-allowed data-[disabled]:opacity-70 data-[readOnly]:cursor-default"),{variants:{size:{sm:"pl-1.5 pr-[34px] py-1.5 gap-1.5 rounded",md:"pl-2 pr-[38px] py-2 gap-2 rounded-md",lg:"pl-2.5 pr-[46px] py-2.5 gap-2.5 rounded-lg"},invalid:{true:"border-red-500 dark:border-red-300 ring-red-300 dark:ring-red-100",false:"border-secondary-300 dark:border-secondary-700 hover:border-primary-500 dark:hover:border-primary-300 data-[focus]:border-primary-500 dark:data-[focus]:border-primary-300 data-[disabled]:hover:border-secondary-300 data-[disabled]:hover:dark:border-secondary-700 ring-primary-300 dark:ring-primary-100"}},defaultVariants:{invalid:!1,size:"md"}}),y=n("absolute p-1 data-[readOnly]:hidden",{variants:{size:{sm:"size-[18px] p-0.5 right-2 rounded-sm",md:"size-6 p-1 right-2 rounded",lg:"size-[26px] p-1 right-2.5 rounded-md"}},defaultVariants:{size:"md"}}),b={size:{sm:"text-xs leading-tight",md:"text-sm leading-tight",lg:"text-base leading-tight"}};function v({placeholder:e,size:r,invalid:l}){const{value:n}=t();return a(i,{children:[a(s.Control,{className:f({size:r,invalid:l}),children:[n.map(((e,i)=>a(s.Item,{index:i,value:e,children:[d(k,{value:e,size:r}),d(s.ItemInput,{className:u("outline-none",b.size[r])})]},`${i}-${e}`))),d(s.Input,{placeholder:e,className:u("dark:text-secondary-200 data-[disabled]:bg-secondary-300 flex-1 bg-transparent py-0.5 outline-none disabled:cursor-not-allowed data-[readonly]:cursor-default",b.size[r])})]}),d(s.ClearTrigger,{asChild:!0,children:d(g,{variant:"ghost",size:"icon",colorScheme:"error",className:y({size:r}),children:d(o,{className:"size-full stroke-[3]"})})})]})}const z=n(u("border-secondary-300 dark:border-secondary-700 data-[highlighted]:dark:border-primary-400 data-[highlighted]:border-primary-500 items-center border transition-all data-[disabled]:cursor-not-allowed data-[disabled]:opacity-60","data-[highlighted]:ring-1 ring-offset-1 ring-primary-300 dark:ring-primary-100"),{variants:{size:{sm:"gap-1 rounded-sm pl-1 pr-0.5 py-0",md:"gap-1.5 rounded pl-1.5 pr-1 py-px",lg:"gap-2 rounded-md pl-2 pr-1.5 py-0.5"},editing:{true:"hidden",false:"flex"}},defaultVariants:{editing:!1,size:"md"}}),x=n("text-secondary-500 group-data-[readonly]/tag-control:cursor-default",{variants:{size:{sm:"size-2.5",md:"size-3",lg:"size-3.5"},disabled:{true:"cursor-not-allowed",false:"cursor-pointer hover:text-red-500 dark:hover:text-red-300 group-data-[readonly]/tag-control:hover:text-secondary-500 dark:group-data-[readonly]/tag-control:hover:text-secondary-500"}},defaultVariants:{disabled:!1,size:"md"}});function k({size:e,value:r}){const{editing:i,disabled:t}=l();return a(s.ItemPreview,{className:z({size:e,editing:i}),children:[d(s.ItemText,{className:u("dark:text-secondary-100 font-light text-black",b.size[e]),children:r}),d(s.ItemDeleteTrigger,{className:x({size:e,disabled:t}),children:d(o,{className:"size-full stroke-[2.5]"})})]})}export{h as TagField,f as tagFieldControlClasses,y as tagFieldControlClearTriggerClasses,z as tagFieldPreviewItemClasses,x as tagFieldPreviewItemDeleteTriggerClasses,b as tagInputTextClasses};

"use client";
import{_ as e}from"@swc/helpers/_/_extends";import{_ as a}from"@swc/helpers/_/_object_without_properties_loose";import{jsx as i,jsxs as s,Fragment as r}from"react/jsx-runtime";import{Editable as l,useEditableContext as d}from"@ark-ui/react";import{PencilIcon as n}from"@heroicons/react/24/outline";import{cva as t}from"class-variance-authority";import{forwardRef as o}from"react";import{useFieldControlContext as c}from"../field-control/context.esm.js";import{getValue as m}from"../utils/get-value.esm.js";import{classNames as u}from"../utils/class-names.esm.js";import{InputField as p}from"../input-field/InputField.esm.js";import{Button as h}from"../button/Button.esm2.js";const b=o((function(s,r){var d,{size:n="md",name:t,disabled:o,readOnly:h,className:b,isDisabled:g,isLoading:v,isReadOnly:y,isInvalid:z,onValueChange:x}=s,O=a(s,["size","name","disabled","readOnly","className","isDisabled","isLoading","isReadOnly","isInvalid","onValueChange"]);const C=null!=(d=c())?d:{isDisabled:!1,isLoading:!1,isReadOnly:!1,isRequired:!1,isInvalid:!1},k=null!=t?t:C.name;var w,N;const _=(null!=(w=null!=o?o:m(g))?w:C.isDisabled)||(null!=(N=m(v))?N:C.isLoading);var j;const I=null!=(j=m(z))?j:C.isInvalid;var R;const V=null!=(R=null!=h?h:m(y))?R:C.isReadOnly,D=e({},O,{name:k,disabled:_,readOnly:V,className:u("w-full",b),activationMode:"dblclick",onValueChange:({value:e})=>null==x?void 0:x(e)});return i(l.Root,e({},D,{ref:r,children:i(l.Context,{children:()=>i(f,{size:n,readOnly:V,disabled:_,children:i(p,{size:n,isInvalid:I})})})}))})),g={size:{sm:"text-sm pl-2 pr-8 py-1 h-[30px]",md:"text-md pl-3 pr-10 py-1.5 h-[38px]",lg:"text-lg pl-4 pr-12 py-2 h-[46px]"}},v=t("absolute outline-none disabled:cursor-not-allowed text-secondary-600 dark:text-secondary-400 top-1",{variants:{size:{sm:"right-1 p-1",md:"right-1.5 p-1.5",lg:"right-2 p-2"},readOnly:{true:"cursor-default",false:""},disabled:{true:"",false:""}},compoundVariants:[{disabled:!1,readOnly:!1,className:"transition-all ease-in-out hover:text-black dark:hover:text-white"}],defaultVariants:{disabled:!1,readOnly:!1,size:"md"}}),y={size:{sm:"size-3 stroke-[3]",md:"size-4 stroke-2",lg:"size-5 stroke-2"}};function f({size:e="md",readOnly:a,disabled:t,className:o,editableTextareaPreviewClasses:c,children:m}){const{editing:p,getPreviewProps:b}=d(),f=b();var z;return s(r,{children:[s(l.Area,{children:[i(l.Input,{asChild:!0,children:m}),i(l.Preview,{asChild:!0,children:s("div",{className:u("hover:bg-secondary-100 border-secondary-300 dark:hover:bg-secondary-700/60 dark:border-secondary-700 data-[disabled]:bg-secondary-100 dark:data-[disabled]:bg-secondary-800 relative cursor-pointer rounded-md border transition-all ease-in-out aria-[readonly]:cursor-default data-[disabled]:cursor-not-allowed",o,null!=(z=null==c?void 0:c.size[e])?z:g.size[e]),children:[i("p",{className:"truncate",children:f.children}),i(l.EditTrigger,{className:v({size:e,readOnly:a,disabled:t}),children:i(n,{className:y.size[e]})})]})})]}),p&&s(l.Control,{className:"mt-2 flex gap-2",children:[i(l.SubmitTrigger,{asChild:!0,children:i(h,{size:"sm",title:"Enter",children:"Save"})}),i(l.CancelTrigger,{asChild:!0,children:i(h,{size:"sm",title:"Esc",children:"Cancel"})})]})]})}export{f as EditableItem,b as EditableText,y as editIconClasses,v as editTriggerClasses,g as editableTextPreviewClasses};

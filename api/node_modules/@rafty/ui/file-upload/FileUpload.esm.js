"use client";
import{_ as e}from"@swc/helpers/_/_extends";import{_ as r}from"@swc/helpers/_/_object_without_properties_loose";import{jsxs as s,jsx as i}from"react/jsx-runtime";import{FileUpload as a}from"@ark-ui/react";import{DocumentIcon as o,TrashIcon as t}from"@heroicons/react/24/outline";import{forwardRef as l}from"react";import{useFieldControlContext as n}from"../field-control/context.esm.js";import{getValue as d}from"../utils/get-value.esm.js";import{classNames as m}from"../utils/class-names.esm.js";import{Button as c}from"../button/Button.esm2.js";const f=l((function(o,t){var l,{name:c,disabled:f,className:p,isDisabled:b,isLoading:h}=o,y=r(o,["name","disabled","className","isDisabled","isLoading"]);const g=null!=(l=n())?l:{isDisabled:!1,isLoading:!1,isReadOnly:!1,isRequired:!1,isInvalid:!1},v=null!=c?c:g.name;var x,N;const w=(null!=(x=null!=f?f:d(b))?x:g.isDisabled)||(null!=(N=d(h))?N:g.isLoading),I=e({},y,{name:v,disabled:w,className:m("w-full",p)});return s(a.Root,e({},I,{ref:t,children:[i("div",{className:"relative h-[300px] w-full",children:i(a.Dropzone,{className:"border-secondary-300 dark:border-secondary-700 hover:border-primary-500 dark:hover:border-primary-300 ring-primary-300 dark:ring-primary-100 dark:ring-offset-secondary-950 data-[disabled]:hover:border-secondary-300 dark:data-[disabled]:hover:border-secondary-700 absolute inset-0 flex size-full cursor-pointer select-none items-center justify-center rounded-lg border outline-none ring-offset-2 ring-offset-white transition-all ease-in-out focus-visible:ring-2 data-[disabled]:cursor-not-allowed data-[disabled]:opacity-70",children:i("p",{className:"text-secondary-500 text-sm font-medium",children:"Drag your file(s) here"})})}),i(a.ItemGroup,{className:"mt-2 space-y-2",children:i(a.Context,{children:({acceptedFiles:e})=>e.map(((e,r)=>i(u,{file:e},r)))})}),i(a.HiddenInput,{})]}))}));function u(e){return s(a.Item,{file:e.file,className:"border-secondary-300 dark:border-secondary-700 flex w-full items-center gap-2 rounded-md border p-2",children:[i(a.ItemPreview,{type:".*",children:"image"===e.file.type.split("/")[0]?i(a.ItemPreviewImage,{className:"size-8 object-cover"}):i("div",{className:"flex size-8 items-center justify-center",children:i(o,{className:"text-secondary-500 size-6 stroke-2"})})}),s("div",{className:"font-medium",children:[i(a.ItemName,{className:"text-sm"}),i(a.ItemSizeText,{className:"text-secondary-500 text-xs"})]}),i("div",{className:"flex-1"}),i(a.ItemDeleteTrigger,{asChild:!0,children:i(c,{variant:"ghost",colorScheme:"error",size:"icon",className:"rounded",children:i(t,{className:"size-3.5 stroke-2"})})})]},e.file.name)}export{f as FileUpload};
